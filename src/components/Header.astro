---
import { ChevronRight, MessageCircle, Menu, X } from 'lucide-astro';
import FlagBR from '../assets/Icons/flag-br.svg?raw';
import FlagEUA from '../assets/Icons/flag-usa.svg?raw';
import FlagESP from '../assets/Icons/flag-esp.svg?raw';
---

<header class="flex items-center header-fade-in fixed top-0 inset-x-0 w-full bg-transparent transition-colors duration-300 p-4 md:p-8">
  <div class="flex items-center justify-between w-full">
    
    <div class="flex-shrink-0 lg:hidden">
      <button id="mobile-menu-btn" class="mobile-menu-btn rounded-lg border border-black bg-white">
        <Menu size={20} class="menu-icon" />
        <X size={20} class="close-icon hidden" />
      </button>
    </div>

    <div class="hidden lg:flex flex-shrink-0">
     <a href='/' class="btn-nav bg-[#25D366]/50  border-2 border-[#25D366]/50 text-white header-btn">
                <span class="button-content-initial-text" data-translate="header.cta">Fale Conosco...</span>
                <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white">
            <MessageCircle size={20} class="text-[#25D366]" />
          </div>
            </a>
      </a>
    </div>

    <div class="absolute left-1/2 transform -translate-x-1/2">
      <img src="/logoipsum-332.svg" alt="Logo" class="h-6 md:h-8">
    </div>

    <div class="hidden lg:flex items-center gap-6">
      <div class="flex items-center gap-4 nav-links">
        <a href="#Hero"  class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.home">Início</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="#Packages" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.tours">Passeios</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="#About" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.about">Sobre</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="#Testimonials" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.testimonials">Depoimentos</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="/blog" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.blog">Blog</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>
      </div>

      <div class="language-switcher-container">
        <button id="language-dropdown-btn" class="language-btn">
          <div id="current-flag" class="flag-icon" set:html={FlagBR}></div>
          <span id="current-lang">PT</span>
          <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 12 12">
            <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </button>
        
        <div id="language-dropdown" class="language-dropdown hidden">
          <button data-lang="pt" class="lang-option active">
            <div class="flag-icon" set:html={FlagBR}></div>
            <span>Português</span>
          </button>
          <button data-lang="en" class="lang-option">
            <div class="flag-icon" set:html={FlagEUA}></div>
            <span>English</span>
          </button>
          <button data-lang="es" class="lang-option">
            <div class="flag-icon" set:html={FlagESP}></div>
            <span>Español</span>
          </button>
        </div>
      </div>
    </div>

    <div class="flex lg:hidden language-switcher-container">
      <button id="mobile-language-dropdown-btn" class="language-btn">
        <div id="mobile-current-flag" class="flag-icon" set:html={FlagBR}></div>
        <span id="mobile-current-lang">PT</span>
        <svg class="dropdown-arrow" width="10" height="10" viewBox="0 0 12 12">
          <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" fill="none"/>
        </svg>
      </button>
      
      <div id="mobile-language-dropdown" class="language-dropdown hidden">
        <button data-lang="pt" class="mobile-lang-option active">
          <div class="flag-icon" set:html={FlagBR}></div>
          <span>Português</span>
        </button>
        <button data-lang="en" class="mobile-lang-option">
          <div class="flag-icon" set:html={FlagEUA}></div>
          <span>English</span>
        </button>
        <button data-lang="es" class="mobile-lang-option">
          <div class="flag-icon" set:html={FlagESP}></div>
          <span>Español</span>
        </button>
      </div>
    </div>
  </div>

  <div id="mobile-menu-overlay" class="mobile-menu-overlay">
    <div class="mobile-menu-content">
      <nav class="mobile-nav">
        <a href="#Hero" class="mobile-nav-item" data-translate="header.home">Início</a>
        <a href="#Packages" class="mobile-nav-item" data-translate="header.tours">Passeios</a>
        <a href="#About" class="mobile-nav-item" data-translate="header.about">Sobre</a>
        <a href="#Testimonials" class="mobile-nav-item" data-translate="header.testimonials">Depoimentos</a>
        <a href="/Blog" class="mobile-nav-item" data-translate="header.blog">Blog</a>
      </nav>

      <div class="mobile-cta-container">
        <a href='/' class="btn-nav border-1 border-blue text-blue w-full justify-center mobile-cta-btn is-revealed">
          <span class="button-content-initial-text mobile-cta-text" data-translate="header.cta">Fale Conosco</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-black mobile-cta-icon">
            <ChevronRight size={18} class=" bg-blue/20 text-white" />
          </div>
        </a>
      </div>
    </div>
  </div>
</header>


<style>

    /* Só CSS mobile  */
    .mobile-menu-btn {
        transition: all 0.3s ease;
        position: relative;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .mobile-menu-btn:hover {
        background: #f9f9f9;
    }

    .mobile-menu-btn.active .menu-icon {
        display: none;
    }

    .mobile-menu-btn.active .close-icon {
        display: block;
    }

    .mobile-menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        z-index: 40;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        pointer-events: none;
    }

    .mobile-menu-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    .mobile-menu-content {
        position: absolute;
        top: 0;
        left: 0;
        width: 280px;
        height: 100vh;
        background: white;
        padding: 80px 24px 24px;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: 32px;
    }

    .mobile-menu-overlay.active .mobile-menu-content {
        transform: translateX(0);
    }

    /* Mobile Navigation */
    .mobile-nav {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .mobile-nav-item {
        padding: 16px 0;
        font-size: 18px;
        font-weight: 500;
        color: #1f2937;
        text-decoration: none;
        border-bottom: 1px solid #f3f4f6;
        transition: color 0.2s ease;
        opacity: 0;
        transform: translateX(-20px);
    }

    .mobile-menu-overlay.active .mobile-nav-item {
        animation: slideInLeft 0.3s ease forwards;
    }

    .mobile-nav-item:hover {
        color: #374151;
    }

    .mobile-menu-overlay.active .mobile-nav-item:nth-child(1) { animation-delay: 0.1s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(2) { animation-delay: 0.15s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(3) { animation-delay: 0.2s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(4) { animation-delay: 0.25s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(5) { animation-delay: 0.3s; }

    @keyframes slideInLeft {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .mobile-cta-container {
        margin-top: auto;
        opacity: 0;
        transform: translateY(20px);
    }

    .mobile-menu-overlay.active .mobile-cta-container {
        animation: slideInUp 0.3s ease forwards 0.4s;
    }

    @keyframes slideInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .mobile-cta-btn .mobile-cta-text {
        opacity: 1 !important;
        transform: translateX(0) !important;
        transition: none !important;
    }

    .mobile-cta-btn .mobile-cta-icon {
        opacity: 1 !important;
        transform: translateX(0) !important;
        transition: none !important;
    }

    .language-dropdown {
        position: absolute !important;
        top: calc(100% + 4px) !important;
        right: 0 !important;
        background: white !important;
        border: 1px solid #e5e5e5 !important;
        border-radius: 8px !important;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
        min-width: 140px !important;
        z-index: 1000 !important;
        opacity: 1 !important;
        transform: translateY(0) !important;
        transition: all 0.2s ease !important;
        visibility: visible !important;
        display: block !important;
    }

    .language-dropdown.hidden {
        opacity: 0 !important;
        transform: translateY(-10px) !important;
        pointer-events: none !important;
        visibility: hidden !important;
    }

    .lang-option,
    .mobile-lang-option {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        width: 100% !important;
        padding: 10px 12px !important;
        border: none !important;
        background: none !important;
        cursor: pointer !important;
        transition: background 0.2s ease !important;
        font-size: 14px !important;
        text-align: left !important;
        color: #374151 !important;
    }

    .lang-option:hover,
    .mobile-lang-option:hover {
        background: #f5f5f5 !important;
    }

    .lang-option.active,
    .mobile-lang-option.active {
        background: #f0f0f0 !important;
        font-weight: 500 !important;
    }

    .lang-option:first-child,
    .mobile-lang-option:first-child {
        border-radius: 8px 8px 0 0 !important;
    }

    .lang-option:last-child,
    .mobile-lang-option:last-child {
        border-radius: 0 0 8px 8px !important;
    }

    @media (max-width: 768px) {
        .header-padding {
            padding-left: 16px;
            padding-right: 16px;
        }

        .language-btn {
            padding: 6px 8px;
            font-size: 12px;
            gap: 4px;
        }

        .flag-icon {
            width: 16px;
            height: 12px;
        }

        .language-dropdown {
            min-width: 120px !important;
        }

        .lang-option,
        .mobile-lang-option {
            padding: 8px 10px !important;
            font-size: 12px !important;
        }
    }

    body.menu-open {
        overflow: hidden;
    }
</style>

<script is:inline define:vars={{ FlagBR, FlagEUA, FlagESP }}>
    if (window.globalTranslator) {
        console.log('🔄 GlobalTranslator já existe, reutilizando...');
    } else {
        console.log('🚀 Criando novo GlobalTranslator...');
        
        const languages = {
            pt: { name: 'Português', flag: FlagBR, code: 'pt-BR' },
            en: { name: 'English', flag: FlagEUA, code: 'en-US' },
            es: { name: 'Español', flag: FlagESP, code: 'es-ES' }
        };

     const translations = {
    pt: {
        'header.cta': "Fale Conosco",
        'header.home': "Início",
        'header.tours': "Passeios",
        'header.about': "Sobre",
        'header.testimonials': "Depoimentos",
        'header.blog': "Blog",
        'hero.cta.discover': "Conheça mais destinos...",
        'hero.slide1.title': "Sua Viagem para Foz do Iguaçu.<br> Experiências Sob Medida,<br> Memórias Para Sempre.",
        'hero.subtitle': "Esqueça o estresse. A BNI Tour transforma sua viagem em Foz do Iguaçu, Paraguai e Argentina <br> em um roteiro premium, exclusivo e inesquecível. Seu desejo é nosso guia...",
        'hero.cta.plan': "Planeje Agora!",
        'hero.cta.tours': "Passeios",
        'hero.slide2.title': "Aventura nas Cataratas.<br> Emoções Que Marcam.",
        'hero.slide2.subtitle': "Explore a grandiosidade das Cataratas do Iguaçu, vivendo momentos de pura adrenalina e beleza natural. Sua jornada começa aqui!",
        'hero.slide3.title': "Cultura e Compras no Paraguai.<br> Diversão Sem Limites.",
        'hero.slide3.subtitle': "Descubra a efervescência cultural e as melhores oportunidades de compras em Ciudad del Este. Uma experiência única e inesquecível.",
        'textwall.h1' :"A Sua Jornada, Começa Aqui",  
        'textwall.title': "A Sua Jornada, começa Aqui",  
        'textwall.subtitle': "Cansado de Roteiros Genéricos? Sua Experiência Merece Ser Única...",  
        'textwall.paragraph1_part1': "Sabemos que sua rotina é agitada.",  
        'textwall.paragraph1_part2': "Quando você viaja, busca mais do que um simples passeio: busca comodidade, exclusividade e a certeza de criar momentos que realmente importam com quem você ama.",  
        'textwall.paragraph1_part3': "Casais e famílias como a sua não querem perder tempo com imprevistos ou roteiros 'tamanho único'.",  
        'textwall.paragraph1_part4': "Você sonha com a liberdade de explorar, a tranquilidade de um serviço impecável e a emoção de viver algo feito só para você.",  
        'textwall.paragraph2_part1': "Na BNI Tour, não vendemos pacotes.",  
        'textwall.paragraph2_part2': "Criamos jornadas.",  
        'textwall.paragraph2_part3': "Desde as majestosas Cataratas até o vibrante City Tour no Paraguai e Argentina, cada detalhe é desenhado para superar suas expectativas, garantindo que sua única preocupação seja aproveitar.",  
        'textwall.figcaption1': "Foz do Iguaçu", 
        'textwall.figcaption2': "Três Fronteiras", 
        'packages.title': "Descubra Nossas Experiências",
        'packages.subtitle': "Viva o Melhor de Foz do Iguaçu e região com a BNI Tour...",
        'packages.card_tag.foz_brasil': "Foz do Iguaçu - Brasil",
        'packages.card_tag.puerto_argentina': "Puerto Iguazú - Argentina",
        'packages.card_tag.ciudad_paraguai': "Ciudad del Este - Paraguai",
        'packages.see_more_button': "Ver Mais",
        'packages.joias_naturais.titulo': "Joias <br> Naturais",
        'packages.joias_naturais.descricao': "Cataratas do Iguaçu e Parque das Aves. A Força da Natureza...",
        'packages.cataratas_argentina.titulo': "Cataratas <br> Argentina",
        'packages.cataratas_argentina.descricao': "Marcos das três fronteiras, jantar, vinhoteca, cassino e muito mais...",
        'packages.aventura_emocao.titulo': "Aventura e <br> Emoção",
        'packages.aventura_emocao.descricao': "Para os amantes da aventura. Que tal um passeio de barco nas Cataratas?",
        'packages.compras_cultura.titulo': "Compras e <br> Cultura",
        'packages.compras_cultura.descricao': "Explore e compre em Ciudad del Este. Sem preocupações...",
        'packages.city_tour_argentina.titulo': "City Tour <br> Argentina",
        'packages.city_tour_argentina.descricao': "Marcos das três fronteiras, jantar, vinhoteca, cassino e muito mais...",
        'packages.cruzeiro_por_do_sol.titulo': "Cruzeiro ao <br> Pôr do Sol",
        'packages.cruzeiro_por_do_sol.descricao': "Katamarã: Foz do Iguaçu Sob um Novo Olhar...",
        'packages.city_tour_paraguai.titulo': "City Tour <br> Paraguai",
        'packages.city_tour_paraguai.descricao': "Lago de Lá Republica, Igreja San Lucas Saltos Monday e muito mais...",
        'packages.city_tour_foz.titulo': "City Tour <br> Foz do Iguaçu",
        'packages.city_tour_foz.descricao': "Transfer, Wonder Park, Itaipu, Marco das três fronteiras e muito mais...",
        'about.h1': "Por Que Escolher a BNI Tour?",
        'about.h2': "Não Somos uma Empresa, Somos a Sua Ideia de Viagem Perfeita.",
        'about.feature1.title': "Transporte Confortável",
        'about.feature1.description': "Veículos modernos e seguros para toda sua jornada.",
        'about.feature2.title': "Experiências Únicas",
        'about.feature2.description': "Roteiros personalizados para momentos inesquecíveis.",
        'about.feature3.title': "Destinos Incríveis",
        'about.feature3.description': "Lugares especiais selecionados especialmente para você.",
        'about.image1.alt': "Primeira imagem da colagem",
        'about.image2.alt': "Segunda imagem da colagem",
        'testimonials.title': "Histórias Que Inspiram: Nossos Clientes Falam.",
        'testimonials.ana.quote': "A BNI Tour superou todas as nossas expectativas! Cada detalhe da viagem foi planejado com maestria para a nossa família. Uma experiência incrível do início ao fim!",
        'testimonials.ana.name': "Ana Paula S.",
        'testimonials.ana.role': "Cliente Satisfeita",
        'testimonials.joao.quote': "Nunca imaginei que uma viagem pudesse ser tão tranquila e personalizada. Os roteiros da BNI Tour nos permitiram aproveitar cada momento sem preocupações. Altamente recomendado!",
        'testimonials.joao.name': "João M.",
        'testimonials.joao.role': "Aventureiro de plantão",
        'testimonials.mariana.quote': "Simplesmente perfeito! Desde o atendimento inicial até o retorno, a equipe da BNI Tour foi impecável. Minha família e eu tivemos uma experiência inesquecível em Foz do Iguaçu.",
        'testimonials.mariana.name': "Mariana P.",
        'testimonials.mariana.role': "Amante de viagens",
        'testimonials.carlos.quote': "Viajar com a BNI Tour é garantia de tranquilidade. Roteiros excelentes e motoristas muito atenciosos. Recomendo para quem busca uma viagem sem preocupações!",
        'testimonials.carlos.name': "Carlos R.",
        'testimonials.carlos.role': "Viajante frequente",
        'testimonials.fernanda.quote': "Experiência incrível na tríplice fronteira! A BNI Tour nos proporcionou momentos inesquecíveis, com todo o conforto e segurança. Mal podemos esperar para a próxima!",
        'testimonials.fernanda.name': "Fernanda L.",
        'testimonials.fernanda.role': "Exploradora",
        'testimonials.pedro.quote': "Atendimento personalizado e guias muito bem informados. Minha viagem para as Cataratas foi perfeita, graças ao planejamento cuidadoso da BNI Tour.",
        'testimonials.pedro.name': "Pedro H.",
        'testimonials.pedro.role': "Amante da natureza",
        'testimonials.btn.tripadvisor': "Ver no Tripadvisor",
        'testimonials.btn.google': "Avaliar no Google",
        'roadmap.title': "Planejar Sua Viagem Premium. <br> Nunca Foi Tão Fácil.",
        'roadmap.subtitle': "Seu roteiro perfeito em apenas 3 passos simples",
        'roadmap.step1.title': "Fale Conosco Pelo WhatsApp",
        'roadmap.step1.description': "Compartilhe seus sonhos, interesses e com quem você vai viajar. Nossos especialistas estão prontos para ouvir e entender o que torna uma viagem perfeita para você.",
        'roadmap.step2.title': "Roteiro Personalizado e Detalhado",
        'roadmap.step2.description': "Em pouco tempo, você terá em mãos uma sugestão de roteiro completa, otimizada e pensada nos mínimos detalhes, com os melhores passeios e a logística ideal.",
        'roadmap.step3.title': "Aproveite Cada Momento",
        'roadmap.step3.description': "Com tudo organizado, sua única missão será relaxar, desfrutar da comodidade e criar memórias inesquecíveis. Do começo ao fim, cuidamos de tudo.",
        'roadmap.cta': "Começar Minha Viagem",
        'finalcta.title': "Sua Próxima Aventura.<br> Espera Por Você",
        'finalcta.subtitle': "Não deixe a organização da sua viagem tirar o brilho da sua expectativa. Confie na BNI Tour para transformar sua ideia de passeio em uma realidade impecável, repleta de momentos premium e memórias que durarão para sempre.",
        'finalcta.primary': "Quero Meu Roteiro Personalizado",
        'finalcta.separator': "OU",
        'finalcta.secondary': "Prefiro Preencher o Formulário",
        
    },
    en: {
        'header.cta': "Contact Us",
        'header.home': "Home",
        'header.tours': "Tours",
        'header.about': "About",
        'header.testimonials': "Testimonials",
        'header.blog': "Blog",
        'hero.cta.discover': "Discover more destinations...",
        'hero.slide1.title': "Your Trip to Foz do Iguaçu.<br> Tailor-made Experiences. <br> Memories Forever.",
        'hero.subtitle': "Forget the stress. BNI Tour transforms your trip to Foz do Iguaçu, Paraguay, and Argentina into a premium, exclusive, and unforgettable experience. Your desire is our guide...",
        'hero.cta.plan': "Plan Now!",
        'hero.cta.tours': "Tours",
        'hero.slide2.title': "Adventure at the Falls.<br> Unforgettable Emotions.",
        'hero.slide2.subtitle': "Explore the grandeur of Iguazu Falls, experiencing moments of pure adrenaline and natural beauty. Your journey begins here!",
        'hero.slide3.title': "Culture and Shopping in Paraguay.<br> Unlimited Fun.",
        'hero.slide3.subtitle': "Discover the cultural effervescence and the best shopping opportunities in Ciudad del Este. A unique and unforgettable experience.",
        'textwall.h1' :"Your Journey, Begins Here",
        'textwall.title': "Your Journey Begins Here",
        'textwall.subtitle': "Tired of Generic Itineraries? Your Experience Deserves to Be Unique...",
        'textwall.paragraph1_part1': "We know your routine is busy.",
        'textwall.paragraph1_part2': "When you travel, you seek more than just a simple trip: you seek comfort, exclusivity, and the certainty of creating moments that truly matter with those you love.",
        'textwall.paragraph1_part3': "Couples and families like yours don't want to waste time with unforeseen events or 'one-size-fits-all' itineraries.",
        'textwall.paragraph1_part4': "You dream of the freedom to explore, the tranquility of impeccable service, and the excitement of experiencing something made just for you.",
        'textwall.paragraph2_part1': "At BNI Tour, we don't sell packages.",
        'textwall.paragraph2_part2': "We create journeys.",
        'textwall.paragraph2_part3': "From the majestic Waterfalls to the vibrant City Tour in Paraguay and Argentina <br> every detail is designed to exceed your expectations, ensuring your only concern is to enjoy.",
        'textwall.figcaption1': "Foz do Iguaçu",
        'textwall.figcaption2': "Three Borders",
        'packages.title': "Discover Our Experiences",
        'packages.subtitle': "Experience the Best of Foz do Iguaçu and region with BNI Tour...",
        'packages.card_tag.foz_brasil': "Foz do Iguaçu - Brazil",
        'packages.card_tag.puerto_argentina': "Puerto Iguazú - Argentina",
        'packages.card_tag.ciudad_paraguai': "Ciudad del Este - Paraguay",
        'packages.see_more_button': "See More",
        'packages.joias_naturais.titulo': "Natural <br> Jewels",
        'packages.joias_naturais.descricao': "Iguazu Falls and Bird Park. The Force of Nature...",
        'packages.cataratas_argentina.titulo': "Argentine <br> Falls",
        'packages.cataratas_argentina.descricao': "Three Borders Landmark, dinner, wine cellar, casino and much more...",
        'packages.aventura_emocao.titulo': "Adventure <br> and Emotion",
        'packages.aventura_emocao.descricao': "For adventure lovers. How about a boat trip to the Falls?",
        'packages.compras_cultura.titulo': "Shopping <br> and Culture",
        'packages.compras_cultura.descricao': "Explore and shop in Ciudad del Este. Without worries...",
        'packages.city_tour_argentina.titulo': "City Tour <br> Argentina",
        'packages.city_tour_argentina.descricao': "Three Borders Landmark, dinner, wine cellar, casino and much more...",
        'packages.cruzeiro_por_do_sol.titulo': "Sunset <br> Cruise",
        'packages.cruzeiro_por_do_sol.descricao': "Catamaran: Foz do Iguaçu from a New Perspective...",
        'packages.city_tour_paraguai.titulo': "Paraguay <br> City Tour",
        'packages.city_tour_paraguai.descricao': "Lake of the Republic, San Lucas Church, Monday Falls and much more...",
        'packages.city_tour_foz.titulo': "Foz do Iguaçu <br> City Tour",
        'packages.city_tour_foz.descricao': "Transfer, Wonder Park, Itaipu, Three Borders Landmark and much more...",
        'about.h1': "Why Choose BNI Tour?",
        'about.h2': "We're Not Just a Company, We're Your Perfect Travel Idea.",
        'about.feature1.title': "Comfortable Transportation",
        'about.feature1.description': "Modern and safe vehicles for your entire journey.",
        'about.feature2.title': "Unique Experiences",
        'about.feature2.description': "Personalized itineraries for unforgettable moments.",
        'about.feature3.title': "Amazing Destinations",
        'about.feature3.description': "Special places carefully selected especially for you.",
        'about.image1.alt': "First collage image",
        'about.image2.alt': "Second collage image",
        'testimonials.title': "Inspiring Stories: Our Clients Speak.",
        'testimonials.ana.quote': "BNI Tour exceeded all our expectations! Every detail of the trip was masterfully planned for our family. An incredible experience from start to finish!",
        'testimonials.ana.name': "Ana Paula S.",
        'testimonials.ana.role': "Satisfied Customer",
        'testimonials.joao.quote': "I never imagined a trip could be so smooth and personalized. BNI Tour's itineraries allowed us to enjoy every moment without worries. Highly recommended!",
        'testimonials.joao.name': "João M.",
        'testimonials.joao.role': "Adventure Enthusiast",
        'testimonials.mariana.quote': "Simply perfect! From the initial service to our return, the BNI Tour team was impeccable. My family and I had an unforgettable experience in Foz do Iguaçu.",
        'testimonials.mariana.name': "Mariana P.",
        'testimonials.mariana.role': "Travel Lover",
        'testimonials.carlos.quote': "Traveling with BNI Tour guarantees peace of mind. Excellent itineraries and very attentive drivers. I recommend it for anyone seeking a worry-free trip!",
        'testimonials.carlos.name': "Carlos R.",
        'testimonials.carlos.role': "Frequent Traveler",
        'testimonials.fernanda.quote': "Amazing experience at the triple border! BNI Tour provided us with unforgettable moments, with complete comfort and safety. We can hardly wait for the next one!",
        'testimonials.fernanda.name': "Fernanda L.",
        'testimonials.fernanda.role': "Explorer",
        'testimonials.pedro.quote': "Personalized service and very well-informed guides. My trip to the Falls was perfect, thanks to BNI Tour's careful planning.",
        'testimonials.pedro.name': "Pedro H.",
        'testimonials.pedro.role': "Nature Lover",
        'testimonials.btn.tripadvisor': "View on Tripadvisor",
        'testimonials.btn.google': "Rate on Google",
        'roadmap.title': "Planning Your Premium Trip. <br> Has Never Been So Easy.",
        'roadmap.subtitle': "Your perfect itinerary in just 3 simple steps",
        'roadmap.step1.title': "Contact Us via WhatsApp",
        'roadmap.step1.description': "Share your dreams, interests and who you're traveling with. Our specialists are ready to listen and understand what makes a perfect trip for you.",
        'roadmap.step2.title': "Personalized and Detailed Itinerary",
        'roadmap.step2.description': "In no time, you'll have a complete, optimized itinerary suggestion, thought out in the smallest details, with the best tours and ideal logistics.",
        'roadmap.step3.title': "Enjoy Every Moment",
        'roadmap.step3.description': "With everything organized, your only mission will be to relax, enjoy the comfort and create unforgettable memories. From start to finish, we take care of everything.",
        'roadmap.cta': "Start My Trip",
        'finalcta.title': "Your Next Adventure.<br> Awaits You",
        'finalcta.subtitle': "Don't let trip planning take the shine off your excitement. Trust BNI Tour to transform your travel idea into an impeccable reality, filled with premium moments and memories that will last forever.",
        'finalcta.primary': "I Want My Personalized Itinerary",
        'finalcta.separator': "OR",
        'finalcta.secondary': "I Prefer to Fill Out the Form",
            },
    es: {
        'header.cta': "Contáctenos",
        'header.home': "Inicio",
        'header.tours': "Tours",
        'header.about': "Acerca de",
        'header.testimonials': "Testimonios",
        'header.blog': "Blog",
        'hero.cta.discover': "Descubre más destinos...",
        'hero.slide1.title': "Tu Viaje a Foz do Iguaçu.<br> Experiencias a Medida.<br> Recuerdos para Siempre.",
        'hero.subtitle': "Olvídate del estrés. BNI Tour transforma tu viaje a Foz do Iguaçu, Paraguay y Argentina <br> en un itinerario premium, exclusivo e inolvidable. Tu deseo es nuestra guía...",
        'hero.cta.plan': "Planifica Ahora!",
        'hero.cta.tours': "Paseos",
        'hero.slide2.title': "Aventura en las Cataratas.<br> Emociones Que Marcan.",
        'hero.slide2.subtitle': "Explora la grandeza de las Cataratas del Iguazú, viviendo momentos de pura adrenalina y belleza natural. ¡Tu viaje comienza aquí!",
        'hero.slide3.title': "Cultura y Compras en Paraguay.<br> Diversión Sin Límites.",
        'hero.slide3.subtitle': "Descubre la efervescencia cultural y las mejores oportunidades de compras en Ciudad del Este. Una experiencia única e inolvidable.",
        'textwall.h1' :"Tu Jornada Comienza Aquí.",
        'textwall.title': "Tu Jornada Comienza Aquí",
        'textwall.subtitle': "¿Cansado de Itinerarios Genéricos? Tu Experiencia Merece Ser Única...",
        'textwall.paragraph1_part1': "Sabemos que tu rutina es ajetreada.",
        'textwall.paragraph1_part2': "Cuando viajas, buscas más que un simple paseo: buscas comodidad, exclusividad y la certeza de crear momentos que realmente importan con quienes amas.",
        'textwall.paragraph1_part3': "Parejas y familias como la tuya no quieren perder tiempo con imprevistos o itinerarios 'estándar'.",
        'textwall.paragraph1_part4': "Sueñas con la libertad de explorar, la tranquilidad de un servicio impecable y la emoción de vivir algo hecho solo para ti.",
        'textwall.paragraph2_part1': "En BNI Tour, no vendemos paquetes.",
        'textwall.paragraph2_part2': "Creamos jornadas.",
        'textwall.paragraph2_part3': "Desde las majestuosas Cataratas hasta el vibrante City Tour en Paraguay y Argentina, cada detalle está diseñado para superar tus expectativas, garantizando que tu única preocupación sea disfrutar.",
        'textwall.figcaption1': "Foz do Iguaçu",
        'textwall.figcaption2': "Tres Fronteras",
        'packages.title': "Descubre Nuestras Experiencias",
        'packages.subtitle': "Vive lo Mejor de Foz do Iguaçu y la región con la BNI Tour...",
        'packages.card_tag.foz_brasil': "Foz do Iguaçu - Brasil",
        'packages.card_tag.puerto_argentina': "Puerto Iguazú - Argentina",
        'packages.card_tag.ciudad_paraguai': "Ciudad del Este - Paraguay",
        'packages.see_more_button': "Ver Más",
        'packages.joias_naturais.titulo': "Joyas <br> Naturales",
        'packages.joias_naturais.descricao': "Cataratas del Iguazú y Parque de las Aves. La Fuerza de la Naturaleza...",
        'packages.cataratas_argentina.titulo': "Cataratas <br> Argentinas",
        'packages.cataratas_argentina.descricao': "Marco de las Tres Fronteras, cena, vinoteca, casino y mucho más...",
        'packages.aventura_emocao.titulo': "Aventura <br> y Emoción",
        'packages.aventura_emocao.descricao': "¿Para los amantes de la aventura. Qué tal un paseo en barco por las Cataratas?",
        'packages.compras_cultura.titulo': "Compras <br> y Cultura",
        'packages.compras_cultura.descricao': "Explora y compra en Ciudad del Este. Sin preocupaciones...",
        'packages.city_tour_argentina.titulo': "City Tour <br> Argentina",
        'packages.city_tour_argentina.descricao': "Marco de las Tres Fronteras, cena, vinoteca, casino y mucho más...",
        'packages.cruzeiro_por_do_sol.titulo': "Crucero <br> al Atardecer",
        'packages.cruzeiro_por_do_sol.descricao': "Catamarán: Foz do Iguaçu bajo una Nueva Mirada...",
        'packages.city_tour_paraguai.titulo': "City Tour <br> Paraguay",
        'packages.city_tour_paraguai.descricao': "Lago de La República, Iglesia San Lucas Saltos Monday y mucho más...",
        'packages.city_tour_foz.titulo': "City Tour <br> Foz do Iguaçu",
        'packages.city_tour_foz.descricao': "Transfer, Wonder Park, Itaipu, Marco de las Tres Fronteras y mucho más...",
       'about.h1': "Por Qué Elegir BNI Tour?",
        'about.h2': "No Somos Solo una Empresa, Somos Tu Idea de Viaje Perfecto.",
        'about.feature1.title': "Transporte Cómodo",
        'about.feature1.description': "Vehículos modernos y seguros para todo tu viaje.",
        'about.feature2.title': "Experiencias Únicas",
        'about.feature2.description': "Itinerarios personalizados para momentos inolvidables.",
        'about.feature3.title': "Destinos Increíbles",
        'about.feature3.description': "Lugares especiales seleccionados especialmente para ti.",
        'about.image1.alt': "Primera imagen del collage",
        'about.image2.alt': "Segunda imagen del collage",
        'testimonials.title': "Historias Que Inspiran: Nuestros Clientes Hablan.",
        'testimonials.ana.quote': "¡BNI Tour superó todas nuestras expectativas! Cada detalle del viaje fue planificado con maestría para nuestra familia. ¡Una experiencia increíble de principio a fin!",
        'testimonials.ana.name': "Ana Paula S.",
        'testimonials.ana.role': "Cliente Satisfecha",
        'testimonials.joao.quote': "Nunca imaginé que un viaje pudiera ser tan tranquilo y personalizado. Los itinerarios de BNI Tour nos permitieron disfrutar cada momento sin preocupaciones. ¡Altamente recomendado!",
        'testimonials.joao.name': "João M.",
        'testimonials.joao.role': "Aventurero de turno",
        'testimonials.mariana.quote': "¡Simplemente perfecto! Desde la atención inicial hasta el regreso, el equipo de BNI Tour fue impecable. Mi familia y yo tuvimos una experiencia inolvidable en Foz do Iguaçu.",
        'testimonials.mariana.name': "Mariana P.",
        'testimonials.mariana.role': "Amante de los viajes",
        'testimonials.carlos.quote': "Viajar con BNI Tour es garantía de tranquilidad. Itinerarios excelentes y conductores muy atentos. ¡Lo recomiendo para quien busca un viaje sin preocupaciones!",
        'testimonials.carlos.name': "Carlos R.",
        'testimonials.carlos.role': "Viajero frecuente",
        'testimonials.fernanda.quote': "¡Experiencia increíble en la triple frontera! BNI Tour nos proporcionó momentos inolvidables, con toda la comodidad y seguridad. ¡Apenas podemos esperar al próximo!",
        'testimonials.fernanda.name': "Fernanda L.",
        'testimonials.fernanda.role': "Exploradora",
        'testimonials.pedro.quote': "Atención personalizada y guías muy bien informados. Mi viaje a las Cataratas fue perfecto, gracias a la planificación cuidadosa de BNI Tour.",
        'testimonials.pedro.name': "Pedro H.",
        'testimonials.pedro.role': "Amante de la naturaleza",
        'testimonials.btn.tripadvisor': "Ver en Tripadvisor",
        'testimonials.btn.google': "Evaluar en Google",
        'roadmap.title': "Planificar Su Viaje Premium. <br> Nunca Fue Tan Fácil.",
        'roadmap.subtitle': "Su itinerario perfecto en solo 3 pasos simples",
        'roadmap.step1.title': "Contáctenos por WhatsApp",
        'roadmap.step1.description': "Comparta sus sueños, intereses y con quién va a viajar. Nuestros especialistas están listos para escuchar y entender qué hace que un viaje sea perfecto para usted.",
        'roadmap.step2.title': "Itinerario Personalizado y Detallado",
        'roadmap.step2.description': "En poco tiempo, tendrá en sus manos una sugerencia de itinerario completa, optimizada y pensada en los mínimos detalles, con los mejores paseos y la logística ideal.",
        'roadmap.step3.title': "Disfrute Cada Momento",
        'roadmap.step3.description': "Con todo organizado, su única misión será relajarse, disfrutar de la comodidad y crear recuerdos inolvidables. De principio a fin, nos encargamos de todo.",
        'roadmap.cta': "Comenzar Mi Viaje",
        'finalcta.title': "Su Próxima Aventura.<br> Lo Espera",
        'finalcta.subtitle': "No deje que la organización de su viaje quite el brillo a su expectativa. Confíe en BNI Tour para transformar su idea de paseo en una realidad impecable, llena de momentos premium y recuerdos que durarán para siempre.",
        'finalcta.primary': "Quiero Mi Itinerario Personalizado",
        'finalcta.separator': "O",
        'finalcta.secondary': "Prefiero Llenar el Formulario",
    }
};

        class GlobalTranslator {
            constructor() {
                this.currentLanguage = 'pt';
                this.translations = translations;
            }

            init() {
                console.log('🚀 Inicializando tradutor...');
                this.loadSavedLanguage();
                
                setTimeout(() => {
                    this.translateAll();
                }, 100);
            }

            setLanguage(lang) {
                console.log('🌍 Mudando idioma para:', lang);
                
                if (this.translations[lang]) {
                    const oldLanguage = this.currentLanguage;
                    this.currentLanguage = lang;
                    
                    console.log('�� Executando tradução...');
                    this.translateAll();
                    
                    this.saveLanguage(lang);
                    this.dispatchLanguageChangeEvent(lang, oldLanguage);
                    
                    console.log('✅ Idioma alterado com sucesso!');
                } else {
                    console.error('❌ Idioma não encontrado:', lang);
                }
            }

            translateAll() {
                console.log('🔄 Traduzindo tudo para:', this.currentLanguage);
                
                const elements = document.querySelectorAll('[data-translate]');
                console.log('📝 Total de elementos encontrados:', elements.length);
                
                let translatedCount = 0;
                
                elements.forEach((element, index) => {
                    const key = element.getAttribute('data-translate');
                    
                    if (key) {
                        const translation = this.translations[this.currentLanguage]?.[key];
                        
                        if (translation) {
                            if (key.startsWith('header.')) {
                                element.textContent = translation;
                            } else {
                                element.innerHTML = translation;
                            }
                            translatedCount++;
                            console.log(`✅ [${index}] ${key} → "${translation}"`);
                        } else {
                            console.warn(`⚠️ Tradução não encontrada: ${key}`);
                        }
                    }
                });
                
                console.log(`🎯 Total traduzido: ${translatedCount}/${elements.length}`);
            }

            saveLanguage(lang) {
                localStorage.setItem('preferred-language', lang);
            }

            loadSavedLanguage() {
                const saved = localStorage.getItem('preferred-language');
                if (saved && this.translations[saved]) {
                    this.currentLanguage = saved;
                    console.log('📖 Idioma carregado:', saved);
                }
            }

            dispatchLanguageChangeEvent(newLang, oldLang) {
                console.log('📡 Disparando evento languageChanged');
                
                const event = new CustomEvent('languageChanged', {
                    detail: { 
                        newLanguage: newLang, 
                        oldLanguage: oldLang 
                    }
                });
                
                setTimeout(() => {
                    document.dispatchEvent(event);
                }, 50);
            }

            getCurrentLanguage() {
                return this.currentLanguage;
            }
        }

        window.globalTranslator = new GlobalTranslator();
        window.languages = languages;
    }

    document.addEventListener('DOMContentLoaded', () => {
        console.log('🚀 Header carregado');
        
        window.globalTranslator.init();
        
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileNavItems = document.querySelectorAll('.mobile-nav-item');

        if (mobileMenuBtn && mobileMenuOverlay) {
            mobileMenuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                const isActive = mobileMenuOverlay.classList.contains('active');
                
                if (isActive) {
                    closeMobileMenu();
                } else {
                    openMobileMenu();
                }
            });

            mobileMenuOverlay.addEventListener('click', (e) => {
                if (e.target === mobileMenuOverlay) {
                    closeMobileMenu();
                }
            });

            mobileNavItems.forEach(item => {
                item.addEventListener('click', () => {
                    closeMobileMenu();
                });
            });

            document.addEventListener('click', (e) => {
                if (!mobileMenuBtn.contains(e.target) && !mobileMenuOverlay.contains(e.target)) {
                    if (mobileMenuOverlay.classList.contains('active')) {
                        closeMobileMenu();
                    }
                }
            });
        }

        function openMobileMenu() {
            mobileMenuBtn.classList.add('active');
            mobileMenuOverlay.classList.add('active');
            document.body.classList.add('menu-open');
        }

        function closeMobileMenu() {
            mobileMenuBtn.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            document.body.classList.remove('menu-open');
        }

        setTimeout(() => {
            updateDropdownDisplay(window.globalTranslator.getCurrentLanguage());
            updateMobileDropdownDisplay(window.globalTranslator.getCurrentLanguage());
        }, 200);

        const dropdownBtn = document.getElementById('language-dropdown-btn');
        const dropdown = document.getElementById('language-dropdown');
        const langOptions = document.querySelectorAll('.lang-option');

        if (dropdownBtn && dropdown) {
            dropdownBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdown.classList.toggle('hidden');
                
                const mobileDropdown = document.getElementById('mobile-language-dropdown');
                if (mobileDropdown) {
                    mobileDropdown.classList.add('hidden');
                }
            });

            document.addEventListener('click', (e) => {
                if (!dropdownBtn.contains(e.target) && !dropdown.contains(e.target)) {
                    dropdown.classList.add('hidden');
                }
            });
        }

        langOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                
                if (lang) {
                    console.log('🎯 Clique no idioma desktop:', lang);
                    
                    window.globalTranslator.setLanguage(lang);
                    updateDropdownDisplay(lang);
                    updateMobileDropdownDisplay(lang);
                    updateActiveOption(lang);
                    updateMobileActiveOption(lang);
                    
                    dropdown.classList.add('hidden');
                }
            });
        });

        const mobileDropdownBtn = document.getElementById('mobile-language-dropdown-btn');
        const mobileDropdown = document.getElementById('mobile-language-dropdown');
        const mobileLangOptions = document.querySelectorAll('.mobile-lang-option');

        if (mobileDropdownBtn && mobileDropdown) {
            mobileDropdownBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                mobileDropdown.classList.toggle('hidden');
                
                if (dropdown) {
                    dropdown.classList.add('hidden');
                }
            });

            document.addEventListener('click', (e) => {
                if (!mobileDropdownBtn.contains(e.target) && !mobileDropdown.contains(e.target)) {
                    mobileDropdown.classList.add('hidden');
                }
            });
        }

        mobileLangOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                
                if (lang) {
                    console.log('🎯 Clique no idioma mobile:', lang);
                    
                    window.globalTranslator.setLanguage(lang);
                    updateDropdownDisplay(lang);
                    updateMobileDropdownDisplay(lang);
                    updateActiveOption(lang);
                    updateMobileActiveOption(lang);
                    
                    mobileDropdown.classList.add('hidden');
                }
            });
        });

        const header = document.querySelector('.header-fade-in');
        if (header) {
            setTimeout(() => header.classList.add('is-visible'), 200);
        }

        const navItems = document.querySelectorAll('.nav-item');
        setTimeout(() => {
            navItems.forEach((item, index) => {
                setTimeout(() => item.classList.add('is-revealed'), index * 100);
            });
        }, 600);

        const headerBtns = document.querySelectorAll('.header-btn');
        setTimeout(() => {
            headerBtns.forEach((btn, index) => {
                setTimeout(() => btn.classList.add('is-revealed'), index * 200);
            });
        }, 1000);

        const langSwitchers = document.querySelectorAll('.language-switcher-container');
        setTimeout(() => {
            langSwitchers.forEach((switcher, index) => {
                setTimeout(() => switcher.classList.add('is-revealed'), 800 + (index * 100));
            });
        }, 800);
    });

    function updateDropdownDisplay(lang) {
        const currentFlag = document.getElementById('current-flag');
        const currentLang = document.getElementById('current-lang');
        
        if (currentFlag && currentLang && window.languages[lang]) {
            currentFlag.innerHTML = window.languages[lang].flag;
            currentLang.textContent = lang.toUpperCase();
        }
    }

    function updateMobileDropdownDisplay(lang) {
        const mobileCurrentFlag = document.getElementById('mobile-current-flag');
        const mobileCurrentLang = document.getElementById('mobile-current-lang');
        
        if (mobileCurrentFlag && mobileCurrentLang && window.languages[lang]) {
            mobileCurrentFlag.innerHTML = window.languages[lang].flag;
            mobileCurrentLang.textContent = lang.toUpperCase();
        }
    }

    function updateActiveOption(lang) {
        document.querySelectorAll('.lang-option').forEach(option => {
            option.classList.remove('active');
            if (option.dataset.lang === lang) {
                option.classList.add('active');
            }
        });
    }

    function updateMobileActiveOption(lang) {
        document.querySelectorAll('.mobile-lang-option').forEach(option => {
            option.classList.remove('active');
            if (option.dataset.lang === lang) {
                option.classList.add('active');
            }
        });
    }
</script>