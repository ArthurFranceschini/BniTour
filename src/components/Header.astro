---
import { ChevronRight, MessageCircle, Menu, X } from 'lucide-astro';
import FlagBR from '../assets/Icons/flag-br.svg?raw';
import FlagEUA from '../assets/Icons/flag-usa.svg?raw';
import FlagESP from '../assets/Icons/flag-esp.svg?raw';
---

<header class="flex items-center header-fade-in fixed top-0 inset-x-0 w-full bg-transparent transition-colors duration-300 p-4 md:p-8">
  <div class="flex items-center justify-between w-full">
    
    <div class="flex-shrink-0 lg:hidden">
      <button id="mobile-menu-btn" class="mobile-menu-btn rounded-lg border border-black bg-white">
        <Menu size={20} class="menu-icon" />
        <X size={20} class="close-icon hidden" />
      </button>
    </div>

    <div class="hidden lg:flex flex-shrink-0">
     <a href='/' class="btn-nav bg-[#25D366]/50  border-2 border-[#25D366]/50 text-white header-btn">
                <span class="button-content-initial-text" data-translate="header.cta">Fale Conosco...</span>
                <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white">
            <MessageCircle size={20} class="text-[#25D366]" />
          </div>
            </a>
      </a>
    </div>

    <div class="absolute left-1/2 transform -translate-x-1/2">
      <img src="/logoipsum-332.svg" alt="Logo" class="h-6 md:h-8">
    </div>

    <div class="hidden lg:flex items-center gap-6">
      <div class="flex items-center gap-4 nav-links">
        <a href="#Hero"  class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.home">In√≠cio</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="#Packages" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.tours">Passeios</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="#About" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.about">Sobre</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="#Testimonials" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.testimonials">Depoimentos</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>

        <a href="/blog" class="btn-cta text-white hover:bg-white/10 header-btn">
          <span class="button-content-initial-text" data-translate="header.blog">Blog</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-white/20">
            <ChevronRight size={20} class="text-white" />
          </div>
        </a>
      </div>

      <div class="language-switcher-container">
        <button id="language-dropdown-btn" class="language-btn">
          <div id="current-flag" class="flag-icon" set:html={FlagBR}></div>
          <span id="current-lang">PT</span>
          <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 12 12">
            <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </button>
        
        <div id="language-dropdown" class="language-dropdown hidden">
          <button data-lang="pt" class="lang-option active">
            <div class="flag-icon" set:html={FlagBR}></div>
            <span>Portugu√™s</span>
          </button>
          <button data-lang="en" class="lang-option">
            <div class="flag-icon" set:html={FlagEUA}></div>
            <span>English</span>
          </button>
          <button data-lang="es" class="lang-option">
            <div class="flag-icon" set:html={FlagESP}></div>
            <span>Espa√±ol</span>
          </button>
        </div>
      </div>
    </div>

    <div class="flex lg:hidden language-switcher-container">
      <button id="mobile-language-dropdown-btn" class="language-btn">
        <div id="mobile-current-flag" class="flag-icon" set:html={FlagBR}></div>
        <span id="mobile-current-lang">PT</span>
        <svg class="dropdown-arrow" width="10" height="10" viewBox="0 0 12 12">
          <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" fill="none"/>
        </svg>
      </button>
      
      <div id="mobile-language-dropdown" class="language-dropdown hidden">
        <button data-lang="pt" class="mobile-lang-option active">
          <div class="flag-icon" set:html={FlagBR}></div>
          <span>Portugu√™s</span>
        </button>
        <button data-lang="en" class="mobile-lang-option">
          <div class="flag-icon" set:html={FlagEUA}></div>
          <span>English</span>
        </button>
        <button data-lang="es" class="mobile-lang-option">
          <div class="flag-icon" set:html={FlagESP}></div>
          <span>Espa√±ol</span>
        </button>
      </div>
    </div>
  </div>

  <div id="mobile-menu-overlay" class="mobile-menu-overlay">
    <div class="mobile-menu-content">
      <nav class="mobile-nav">
        <a href="#Hero" class="mobile-nav-item" data-translate="header.home">In√≠cio</a>
        <a href="#Packages" class="mobile-nav-item" data-translate="header.tours">Passeios</a>
        <a href="#About" class="mobile-nav-item" data-translate="header.about">Sobre</a>
        <a href="#Testimonials" class="mobile-nav-item" data-translate="header.testimonials">Depoimentos</a>
        <a href="/Blog" class="mobile-nav-item" data-translate="header.blog">Blog</a>
      </nav>

      <div class="mobile-cta-container">
        <a href='/' class="btn-nav border-1 border-blue text-blue w-full justify-center mobile-cta-btn is-revealed">
          <span class="button-content-initial-text mobile-cta-text" data-translate="header.cta">Fale Conosco</span>
          <div class="btn-cta-icon-wrapper button-content-initial-icon bg-black mobile-cta-icon">
            <ChevronRight size={18} class=" bg-blue/20 text-white" />
          </div>
        </a>
      </div>
    </div>
  </div>
</header>


<style>

    .mobile-menu-btn {
        transition: all 0.3s ease;
        position: relative;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .mobile-menu-btn:hover {
        background: #f9f9f9;
    }

    .mobile-menu-btn.active .menu-icon {
        display: none;
    }

    .mobile-menu-btn.active .close-icon {
        display: block;
    }

    .mobile-menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        z-index: 40;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        pointer-events: none;
    }

    .mobile-menu-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    .mobile-menu-content {
        position: absolute;
        top: 0;
        left: 0;
        width: 280px;
        height: 100vh;
        background: white;
        padding: 80px 24px 24px;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: 32px;
    }

    .mobile-menu-overlay.active .mobile-menu-content {
        transform: translateX(0);
    }

    /* Mobile Navigation */
    .mobile-nav {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .mobile-nav-item {
        padding: 16px 0;
        font-size: 18px;
        font-weight: 500;
        color: #1f2937;
        text-decoration: none;
        border-bottom: 1px solid #f3f4f6;
        transition: color 0.2s ease;
        opacity: 0;
        transform: translateX(-20px);
    }

    .mobile-menu-overlay.active .mobile-nav-item {
        animation: slideInLeft 0.3s ease forwards;
    }

    .mobile-nav-item:hover {
        color: #374151;
    }

    .mobile-menu-overlay.active .mobile-nav-item:nth-child(1) { animation-delay: 0.1s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(2) { animation-delay: 0.15s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(3) { animation-delay: 0.2s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(4) { animation-delay: 0.25s; }
    .mobile-menu-overlay.active .mobile-nav-item:nth-child(5) { animation-delay: 0.3s; }

    @keyframes slideInLeft {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .mobile-cta-container {
        margin-top: auto;
        opacity: 0;
        transform: translateY(20px);
    }

    .mobile-menu-overlay.active .mobile-cta-container {
        animation: slideInUp 0.3s ease forwards 0.4s;
    }

    @keyframes slideInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .mobile-cta-btn .mobile-cta-text {
        opacity: 1 !important;
        transform: translateX(0) !important;
        transition: none !important;
    }

    .mobile-cta-btn .mobile-cta-icon {
        opacity: 1 !important;
        transform: translateX(0) !important;
        transition: none !important;
    }

    .language-dropdown {
        position: absolute !important;
        top: calc(100% + 4px) !important;
        right: 0 !important;
        background: white !important;
        border: 1px solid #e5e5e5 !important;
        border-radius: 8px !important;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important;
        min-width: 140px !important;
        z-index: 1000 !important;
        opacity: 1 !important;
        transform: translateY(0) !important;
        transition: all 0.2s ease !important;
        visibility: visible !important;
        display: block !important;
    }

    .language-dropdown.hidden {
        opacity: 0 !important;
        transform: translateY(-10px) !important;
        pointer-events: none !important;
        visibility: hidden !important;
    }

    .lang-option,
    .mobile-lang-option {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        width: 100% !important;
        padding: 10px 12px !important;
        border: none !important;
        background: none !important;
        cursor: pointer !important;
        transition: background 0.2s ease !important;
        font-size: 14px !important;
        text-align: left !important;
        color: #374151 !important;
    }

    .lang-option:hover,
    .mobile-lang-option:hover {
        background: #f5f5f5 !important;
    }

    .lang-option.active,
    .mobile-lang-option.active {
        background: #f0f0f0 !important;
        font-weight: 500 !important;
    }

    .lang-option:first-child,
    .mobile-lang-option:first-child {
        border-radius: 8px 8px 0 0 !important;
    }

    .lang-option:last-child,
    .mobile-lang-option:last-child {
        border-radius: 0 0 8px 8px !important;
    }

    @media (max-width: 768px) {
        .header-padding {
            padding-left: 16px;
            padding-right: 16px;
        }

        .language-btn {
            padding: 6px 8px;
            font-size: 12px;
            gap: 4px;
        }

        .flag-icon {
            width: 16px;
            height: 12px;
        }

        .language-dropdown {
            min-width: 120px !important;
        }

        .lang-option,
        .mobile-lang-option {
            padding: 8px 10px !important;
            font-size: 12px !important;
        }
    }

    body.menu-open {
        overflow: hidden;
    }
</style>

<script is:inline define:vars={{ FlagBR, FlagEUA, FlagESP }}>
    if (window.globalTranslator) {
        console.log('üîÑ GlobalTranslator j√° existe, reutilizando...');
    } else {
        console.log('üöÄ Criando novo GlobalTranslator...');
        
        const languages = {
            pt: { name: 'Portugu√™s', flag: FlagBR, code: 'pt-BR' },
            en: { name: 'English', flag: FlagEUA, code: 'en-US' },
            es: { name: 'Espa√±ol', flag: FlagESP, code: 'es-ES' }
        };

     const translations = {
    pt: {
        'header.cta': "Fale Conosco",
        'header.home': "In√≠cio",
        'header.tours': "Passeios",
        'header.about': "Sobre",
        'header.testimonials': "Depoimentos",
        'header.blog': "Blog",
        'hero.cta.discover': "Conhe√ßa mais destinos...",
        'hero.slide1.title': "Sua Viagem para Foz do Igua√ßu.<br> Experi√™ncias Sob Medida,<br> Mem√≥rias Para Sempre.",
        'hero.subtitle': "Esque√ßa o estresse. A BNI Tour transforma sua viagem em Foz do Igua√ßu, Paraguai e Argentina <br> em um roteiro premium, exclusivo e inesquec√≠vel. Seu desejo √© nosso guia...",
        'hero.cta.plan': "Planeje Agora!",
        'hero.cta.tours': "Passeios",
        'hero.slide2.title': "Aventura nas Cataratas.<br> Emo√ß√µes Que Marcam.",
        'hero.slide2.subtitle': "Explore a grandiosidade das Cataratas do Igua√ßu, vivendo momentos de pura adrenalina e beleza natural. Sua jornada come√ßa aqui!",
        'hero.slide3.title': "Cultura e Compras no Paraguai.<br> Divers√£o Sem Limites.",
        'hero.slide3.subtitle': "Descubra a efervesc√™ncia cultural e as melhores oportunidades de compras em Ciudad del Este. Uma experi√™ncia √∫nica e inesquec√≠vel.",
        'textwall.h1' :"A Sua Jornada, Come√ßa Aqui",  
        'textwall.title': "A Sua Jornada, come√ßa Aqui",  
        'textwall.subtitle': "Cansado de Roteiros Gen√©ricos? Sua Experi√™ncia Merece Ser √önica...",  
        'textwall.paragraph1_part1': "Sabemos que sua rotina √© agitada.",  
        'textwall.paragraph1_part2': "Quando voc√™ viaja, busca mais do que um simples passeio: busca comodidade, exclusividade e a certeza de criar momentos que realmente importam com quem voc√™ ama.",  
        'textwall.paragraph1_part3': "Casais e fam√≠lias como a sua n√£o querem perder tempo com imprevistos ou roteiros 'tamanho √∫nico'.",  
        'textwall.paragraph1_part4': "Voc√™ sonha com a liberdade de explorar, a tranquilidade de um servi√ßo impec√°vel e a emo√ß√£o de viver algo feito s√≥ para voc√™.",  
        'textwall.paragraph2_part1': "Na BNI Tour, n√£o vendemos pacotes.",  
        'textwall.paragraph2_part2': "Criamos jornadas.",  
        'textwall.paragraph2_part3': "Desde as majestosas Cataratas at√© o vibrante City Tour no Paraguai e Argentina, cada detalhe √© desenhado para superar suas expectativas, garantindo que sua √∫nica preocupa√ß√£o seja aproveitar.",  
        'textwall.figcaption1': "Foz do Igua√ßu", 
        'textwall.figcaption2': "Tr√™s Fronteiras", 
        'packages.title': "Descubra Nossas Experi√™ncias",
        'packages.subtitle': "Viva o Melhor de Foz do Igua√ßu e regi√£o com a BNI Tour...",
        'packages.card_tag.foz_brasil': "Foz do Igua√ßu - Brasil",
        'packages.card_tag.puerto_argentina': "Puerto Iguaz√∫ - Argentina",
        'packages.card_tag.ciudad_paraguai': "Ciudad del Este - Paraguai",
        'packages.see_more_button': "Ver Mais",
        'packages.joias_naturais.titulo': "Cataratas Brasil + <br> Parque das Aves",
        'packages.joias_naturais.descricao': "Cataratas do Igua√ßu e Parque das Aves. A For√ßa da Natureza...",
        'packages.cataratas_argentina.titulo': "Cataratas <br> Argentina",
        'packages.cataratas_argentina.descricao': "Marcos das tr√™s fronteiras, jantar, vinhoteca, cassino e muito mais...",
        'packages.aventura_emocao.titulo': "Macuco <br> Safari",
        'packages.aventura_emocao.descricao': "Para os amantes da aventura. Que tal um passeio de barco nas Cataratas?",
        'packages.compras_cultura.titulo': "Compras <br> Paraguai",
        'packages.compras_cultura.descricao': "Explore e compre em Ciudad del Este. Sem preocupa√ß√µes...",
        'packages.city_tour_argentina.titulo': "Cataratas + <br> City Tour Argentina",
        'packages.city_tour_argentina.descricao': "Marcos das tr√™s fronteiras, jantar, vinhoteca, cassino e muito mais...",
        'packages.cruzeiro_por_do_sol.titulo': "Kattamaram II",
        'packages.cruzeiro_por_do_sol.descricao': "Katamar√£: Foz do Igua√ßu Sob um Novo Olhar...",
        'packages.city_tour_paraguai.titulo': "City Tour <br> Paraguai",
        'packages.city_tour_paraguai.descricao': "Lago de L√° Republica, Igreja San Lucas Saltos Monday e muito mais...",
        'packages.city_tour_foz.titulo': "City Tour <br> Foz do Igua√ßu",
        'packages.city_tour_foz.descricao': "Transfer, Itaipu, Marco das tr√™s fronteiras e muito mais...",
        'packages.cassino_argentina.titulo': "Cassino na Argentina",
        'packages.cassino_argentina.descricao': "Um dos mais prestigiados da Am√©rica Latina",
        'about.h1': "Por Que Escolher a BNI Tour?",
        'about.h2': "N√£o Somos uma Empresa, Somos a Sua Ideia de Viagem Perfeita.",
        'about.feature1.title': "Transporte Confort√°vel",
        'about.feature1.description': "Ve√≠culos modernos e seguros para toda sua jornada.",
        'about.feature2.title': "Experi√™ncias √önicas",
        'about.feature2.description': "Roteiros personalizados para momentos inesquec√≠veis.",
        'about.feature3.title': "Destinos Incr√≠veis",
        'about.feature3.description': "Lugares especiais selecionados especialmente para voc√™.",
        'about.image1.alt': "Primeira imagem da colagem",
        'about.image2.alt': "Segunda imagem da colagem",
        'testimonials.title': "Hist√≥rias Que Inspiram: Nossos Clientes Falam.",
        'testimonials.nicolas.quote': "Fez um City tour - Ciudad del Este (Paraguai) com compras, guiado por Luiz. Experi√™ncia super agrad√°vel, guia atencioso, dispon√≠vel e prestativo, com um roteiro bem feito e muitas curiosidades hist√≥ricas. Carro confort√°vel, com ar-condicionado e √°gua. Super recomenda!",
        'testimonials.nicolas.name': "Nicolas Leal",
        'testimonials.nicolas.role': "Cliente Satisfeito",
        'testimonials.lara.quote': "Os passeios foram feitos com o casal Luiz e Natacha. Destaca o transporte pontual e confort√°vel, a atua√ß√£o como guias atenciosos, simp√°ticos e bem preparados, com profundo conhecimento dos pontos tur√≠sticos.",
        'testimonials.lara.name': "Lara B.",
        'testimonials.lara.role': "Viajante",
        'testimonials.antonio.quote': "Viagem memor√°vel de 5 dias para Foz do Igua√ßu, Argentina e Paraguai. O guia Luiz foi pe√ßa chave, profissional extremamente competente, com vasto conhecimento (hist√≥ria, geologia, antropologia), pontual, bem-humorado, dire√ß√£o segura e ve√≠culo confort√°vel e limpo.",
        'testimonials.antonio.name': "Ant√¥nio Carlos L.",
        'testimonials.antonio.role': "Viajante",
        'testimonials.sandro.quote': "Casal nota 1.000! Os passeios foram incr√≠veis, com as informa√ß√µes passadas pelo casal Luiz e Natacha. Um aprendizado sobre as culturas regionais que se tornou surreal. O casal √© natural de Foz.",
        'testimonials.sandro.name': "Sandro B.",
        'testimonials.sandro.role': "Cliente Satisfeito",
        'testimonials.bruno.quote': "Excel√™ncia no atendimento. Sa√≠ de Foz do Igua√ßu com o sentimento de ter feito um amigo, n√£o apenas contratado um guia. Luiz Boni demonstrou carinho, zelo e comprometimento.",
        'testimonials.bruno.name': "Bruno C.",
        'testimonials.bruno.role': "Cliente Satisfeito",
        'testimonials.albano.quote': "Experi√™ncia inesquec√≠vel em Foz do Igua√ßu. Luiz foi discreto, educado, prestativo e pontual. Recomenda√ß√µes e dicas sobre refei√ß√µes, passeios e roteiros foram muito bem elaboradas.",
        'testimonials.albano.name': "Albano R.",
        'testimonials.albano.role': "Viajante",
        'testimonials.anaclaudia.quote': "Viver a experi√™ncia em Foz do Igua√ßu na companhia da Natacha foi inesquec√≠vel e muito agrad√°vel. Atenciosa e preocupada com o bem-estar, demonstrando muito conhecimento em cada ponto de visita√ß√£o.",
        'testimonials.anaclaudia.name': "Ana Claudia M.",
        'testimonials.anaclaudia.role': "Cliente Satisfeita",
        'testimonials.luizc.quote': "Guia excepcional! Experi√™ncia incr√≠vel, simp√°tico e muito bem informado. Luiz Boni ofereceu um tour com muita informa√ß√£o, indica√ß√µes precisas em um ve√≠culo confort√°vel com √°gua mineral. O melhor guia das tr√™s fronteiras.",
        'testimonials.luizc.name': "Luiz C.",
        'testimonials.luizc.role': "Viajante",
        'testimonials.amzar.quote': "Viagem reservada com Natacha. Planejamento via WhatsApp com clareza e transpar√™ncia de custos. Natacha foi pontual e, o mais importante, muito familiarizada com a hist√≥ria e os fatos. Uma grande experi√™ncia!",
        'testimonials.amzar.name': "Amzar A.",
        'testimonials.amzar.role': "Cliente Satisfeito",
        'testimonials.marlon.quote': "Excelentemente bem atendidos de forma profissional e acolhedora. Nosso filho ficou contente com o carinho e aten√ß√£o. Recomendo absolutamente os servi√ßos: traslado, passeios, cordialidade, pontualidade e sugest√µes assertivas.",
        'testimonials.marlon.name': "Marlon S.",
        'testimonials.marlon.role': "Cliente Satisfeito",
        'testimonials.anapaula.quote': "Tive a sorte de contar com a expertise de Luiz para otimizar os passeios. Tour completo pelas Cataratas, helic√≥ptero e macuco safari. Luiz foi solicito, cordial e ajudou a registrar os passeios com fotos e v√≠deos.",
        'testimonials.anapaula.name': "Ana Paula T.",
        'testimonials.anapaula.role': "Viajante",
        'testimonials.btn.tripadvisor': "Ver no Tripadvisor",
        'testimonials.btn.google': "Avaliar no Google",
        'roadmap.subtitle': "Seu roteiro perfeito em apenas 3 passos simples",
        'roadmap.step1.title': "Fale Conosco Pelo WhatsApp",
        'roadmap.step1.description': "Compartilhe seus sonhos, interesses e com quem voc√™ vai viajar. Nossos especialistas est√£o prontos para ouvir e entender o que torna uma viagem perfeita para voc√™.",
        'roadmap.step2.title': "Roteiro Personalizado e Detalhado",
        'roadmap.step2.description': "Em pouco tempo, voc√™ ter√° em m√£os uma sugest√£o de roteiro completa, otimizada e pensada nos m√≠nimos detalhes, com os melhores passeios e a log√≠stica ideal.",
        'roadmap.step3.title': "Aproveite Cada Momento",
        'roadmap.step3.description': "Com tudo organizado, sua √∫nica miss√£o ser√° relaxar, desfrutar da comodidade e criar mem√≥rias inesquec√≠veis. Do come√ßo ao fim, cuidamos de tudo.",
        'roadmap.cta': "Come√ßar Minha Viagem",
        'finalcta.title': "Sua Pr√≥xima Aventura.<br> Espera Por Voc√™",
        'finalcta.subtitle': "N√£o deixe a organiza√ß√£o da sua viagem tirar o brilho da sua expectativa. Confie na BNI Tour para transformar sua ideia de passeio em uma realidade impec√°vel, repleta de momentos premium e mem√≥rias que durar√£o para sempre.",
        'finalcta.primary': "Quero Meu Roteiro Personalizado",
        'finalcta.separator': "OU",
        'finalcta.secondary': "Prefiro Preencher o Formul√°rio",
        
    },
    en: {
        'header.cta': "Contact Us",
        'header.home': "Home",
        'header.tours': "Tours",
        'header.about': "About",
        'header.testimonials': "Testimonials",
        'header.blog': "Blog",
        'hero.cta.discover': "Discover more destinations...",
        'hero.slide1.title': "Your Trip to Foz do Igua√ßu.<br> Tailor-made Experiences. <br> Memories Forever.",
        'hero.subtitle': "Forget the stress. BNI Tour transforms your trip to Foz do Igua√ßu, Paraguay, and Argentina into a premium, exclusive, and unforgettable experience. Your desire is our guide...",
        'hero.cta.plan': "Plan Now!",
        'hero.cta.tours': "Tours",
        'hero.slide2.title': "Adventure at the Falls.<br> Unforgettable Emotions.",
        'hero.slide2.subtitle': "Explore the grandeur of Iguazu Falls, experiencing moments of pure adrenaline and natural beauty. Your journey begins here!",
        'hero.slide3.title': "Culture and Shopping in Paraguay.<br> Unlimited Fun.",
        'hero.slide3.subtitle': "Discover the cultural effervescence and the best shopping opportunities in Ciudad del Este. A unique and unforgettable experience.",
        'textwall.h1' :"Your Journey, Begins Here",
        'textwall.title': "Your Journey Begins Here",
        'textwall.subtitle': "Tired of Generic Itineraries? Your Experience Deserves to Be Unique...",
        'textwall.paragraph1_part1': "We know your routine is busy.",
        'textwall.paragraph1_part2': "When you travel, you seek more than just a simple trip: you seek comfort, exclusivity, and the certainty of creating moments that truly matter with those you love.",
        'textwall.paragraph1_part3': "Couples and families like yours don't want to waste time with unforeseen events or 'one-size-fits-all' itineraries.",
        'textwall.paragraph1_part4': "You dream of the freedom to explore, the tranquility of impeccable service, and the excitement of experiencing something made just for you.",
        'textwall.paragraph2_part1': "At BNI Tour, we don't sell packages.",
        'textwall.paragraph2_part2': "We create journeys.",
        'textwall.paragraph2_part3': "From the majestic Waterfalls to the vibrant City Tour in Paraguay and Argentina <br> every detail is designed to exceed your expectations, ensuring your only concern is to enjoy.",
        'textwall.figcaption1': "Foz do Igua√ßu",
        'textwall.figcaption2': "Three Borders",
        'packages.title': "Discover Our Experiences",
        'packages.subtitle': "Experience the Best of Foz do Igua√ßu and region with BNI Tour...",
        'packages.card_tag.foz_brasil': "Foz do Igua√ßu - Brazil",
        'packages.card_tag.puerto_argentina': "Puerto Iguaz√∫ - Argentina",
        'packages.card_tag.ciudad_paraguai': "Ciudad del Este - Paraguay",
        'packages.see_more_button': "See More",
        'packages.joias_naturais.titulo': "Brasilian Fall's + <br> Bird's Park",
        'packages.joias_naturais.descricao': "Iguazu Falls and Bird Park. The Force of Nature...",
        'packages.cataratas_argentina.titulo': "Argentine <br> Falls",
        'packages.cataratas_argentina.descricao': "Three Borders Landmark, dinner, wine cellar, casino and much more...",
        'packages.aventura_emocao.titulo': "Macuco <br> Safari",
        'packages.aventura_emocao.descricao': "For adventure lovers. How about a boat trip to the Falls?",
        'packages.compras_cultura.titulo': "Paraguai <br> Shopping",
        'packages.compras_cultura.descricao': "Explore and shop in Ciudad del Este. Without worries...",
        'packages.city_tour_argentina.titulo': "Fall's + <br> City Tour Argentina",
        'packages.city_tour_argentina.descricao': "Three Borders Landmark, dinner, wine cellar, casino and much more...",
        'packages.cruzeiro_por_do_sol.titulo': "Kattamaram II",
        'packages.cruzeiro_por_do_sol.descricao': "Catamaran: Foz do Igua√ßu from a New Perspective...",
        'packages.city_tour_paraguai.titulo': "Paraguay <br> City Tour",
        'packages.city_tour_paraguai.descricao': "Lake of the Republic, San Lucas Church, Monday Falls and much more...",
        'packages.city_tour_foz.titulo': "Foz do Igua√ßu <br> City Tour",
        'packages.city_tour_foz.descricao': "Transfer, Itaipu, Three Borders Landmark and much more...",
        'packages.cassino_argentina.titulo': "Argentina's Casino",
        'packages.cassino_argentina.descricao': "One of the most prestigious in Latin America",
        'about.h1': "Why Choose BNI Tour?",
        'about.h2': "We're Not Just a Company, We're Your Perfect Travel Idea.",
        'about.feature1.title': "Comfortable Transportation",
        'about.feature1.description': "Modern and safe vehicles for your entire journey.",
        'about.feature2.title': "Unique Experiences",
        'about.feature2.description': "Personalized itineraries for unforgettable moments.",
        'about.feature3.title': "Amazing Destinations",
        'about.feature3.description': "Special places carefully selected especially for you.",
        'about.image1.alt': "First collage image",
        'about.image2.alt': "Second collage image",
        'testimonials.title': "Inspiring Stories: Our Clients Speak.",
        'testimonials.nicolas.quote': "Did a City tour - Ciudad del Este (Paraguay) with shopping stops, guided by Luiz. Super pleasant experience, attentive, available, and helpful guide, with a well-made itinerary and many historical curiosities. Comfortable car with air conditioning and water. Highly recommends!",
        'testimonials.nicolas.name': "Nicolas Leal",
        'testimonials.nicolas.role': "Satisfied Customer",
        'testimonials.lara.quote': "The tours were done with the couple Luiz and Natacha. Highlights punctual and comfortable transport, their role as attentive, friendly, and well-prepared guides, with deep knowledge of tourist spots.",
        'testimonials.lara.name': "Lara B.",
        'testimonials.lara.role': "Traveler",
        'testimonials.antonio.quote': "Memorable trip of 5 days to Foz do Igua√ßu, Argentina, and Paraguay. The guide Luiz was the key piece, an extremely competent professional, with vast knowledge (history, geology, anthropology), punctual, good-humored, safe driving, and a comfortable and clean vehicle.",
        'testimonials.antonio.name': "Ant√¥nio Carlos L.",
        'testimonials.antonio.role': "Traveler",
        'testimonials.sandro.quote': "Couple rated 1,000! The tours were incredible, with information provided by the couple Luiz and Natacha. A learning experience about regional cultures that became surreal. The couple are natives of Foz.",
        'testimonials.sandro.name': "Sandro B.",
        'testimonials.sandro.role': "Satisfied Customer",
        'testimonials.bruno.quote': "Excellence in service. Left Foz do Igua√ßu with the feeling of having made a friend, not just hired a guide. Luiz Boni showed affection, zeal, and commitment.",
        'testimonials.bruno.name': "Bruno C.",
        'testimonials.bruno.role': "Satisfied Customer",
        'testimonials.albano.quote': "Unforgettable experience in Foz do Igua√ßu. Luiz was discreet, educated, helpful, and punctual. Recommendations and tips about meals, tours, and itineraries were very well prepared.",
        'testimonials.albano.name': "Albano R.",
        'testimonials.albano.role': "Traveler",
        'testimonials.anaclaudia.quote': "Living the experience in Foz do Igua√ßu in the company of Natacha was unforgettable and very pleasant. Attentive and concerned with well-being, demonstrating much knowledge at each visitation point.",
        'testimonials.anaclaudia.name': "Ana Claudia M.",
        'testimonials.anaclaudia.role': "Satisfied Customer",
        'testimonials.luizc.quote': "Exceptional guide! Incredible experience, friendly, and very well informed. Luiz Boni offered a tour with lots of information, precise recommendations in a comfortable vehicle with mineral water. The best guide of the three borders.",
        'testimonials.luizc.name': "Luiz C.",
        'testimonials.luizc.role': "Traveler",
        'testimonials.amzar.quote': "Trip booked with Natacha. Planning via WhatsApp with clarity and cost transparency. Natacha was punctual and, most importantly, very familiar with the history and facts. A great experience!",
        'testimonials.amzar.name': "Amzar A.",
        'testimonials.amzar.role': "Satisfied Customer",
        'testimonials.marlon.quote': "Excellently well attended in a professional and welcoming manner. Our son was happy with the affection and attention. Absolutely recommend the services: transfer, tours, cordiality, punctuality, and assertive suggestions.",
        'testimonials.marlon.name': "Marlon S.",
        'testimonials.marlon.role': "Satisfied Customer",
        'testimonials.anapaula.quote': "I was lucky to count on Luiz's expertise to optimize the tours. Complete tour of the Falls, helicopter, and macuco safari. Luiz was helpful, cordial, and helped register the tours with photos and videos.",
        'testimonials.anapaula.name': "Ana Paula T.",
        'testimonials.anapaula.role': "Traveler",
        'testimonials.btn.tripadvisor': "View on Tripadvisor",
        'testimonials.btn.google': "Rate on Google",
        'roadmap.title': "Planning Your Premium Trip. <br> Has Never Been So Easy.",
        'roadmap.subtitle': "Your perfect itinerary in just 3 simple steps",
        'roadmap.step1.title': "Contact Us via WhatsApp",
        'roadmap.step1.description': "Share your dreams, interests and who you're traveling with. Our specialists are ready to listen and understand what makes a perfect trip for you.",
        'roadmap.step2.title': "Personalized and Detailed Itinerary",
        'roadmap.step2.description': "In no time, you'll have a complete, optimized itinerary suggestion, thought out in the smallest details, with the best tours and ideal logistics.",
        'roadmap.step3.title': "Enjoy Every Moment",
        'roadmap.step3.description': "With everything organized, your only mission will be to relax, enjoy the comfort and create unforgettable memories. From start to finish, we take care of everything.",
        'roadmap.cta': "Start My Trip",
        'finalcta.title': "Your Next Adventure.<br> Awaits You",
        'finalcta.subtitle': "Don't let trip planning take the shine off your excitement. Trust BNI Tour to transform your travel idea into an impeccable reality, filled with premium moments and memories that will last forever.",
        'finalcta.primary': "I Want My Personalized Itinerary",
        'finalcta.separator': "OR",
        'finalcta.secondary': "I Prefer to Fill Out the Form",
            },
    es: {
        'header.cta': "Cont√°ctenos",
        'header.home': "Inicio",
        'header.tours': "Tours",
        'header.about': "Acerca de",
        'header.testimonials': "Testimonios",
        'header.blog': "Blog",
        'hero.cta.discover': "Descubre m√°s destinos...",
        'hero.slide1.title': "Tu Viaje a Foz do Igua√ßu.<br> Experiencias a Medida.<br> Recuerdos para Siempre.",
        'hero.subtitle': "Olv√≠date del estr√©s. BNI Tour transforma tu viaje a Foz do Igua√ßu, Paraguay y Argentina <br> en un itinerario premium, exclusivo e inolvidable. Tu deseo es nuestra gu√≠a...",
        'hero.cta.plan': "Planifica Ahora!",
        'hero.cta.tours': "Paseos",
        'hero.slide2.title': "Aventura en las Cataratas.<br> Emociones Que Marcan.",
        'hero.slide2.subtitle': "Explora la grandeza de las Cataratas del Iguaz√∫, viviendo momentos de pura adrenalina y belleza natural. ¬°Tu viaje comienza aqu√≠!",
        'hero.slide3.title': "Cultura y Compras en Paraguay.<br> Diversi√≥n Sin L√≠mites.",
        'hero.slide3.subtitle': "Descubre la efervescencia cultural y las mejores oportunidades de compras en Ciudad del Este. Una experiencia √∫nica e inolvidable.",
        'textwall.h1' :"Tu Jornada Comienza Aqu√≠.",
        'textwall.title': "Tu Jornada Comienza Aqu√≠",
        'textwall.subtitle': "¬øCansado de Itinerarios Gen√©ricos? Tu Experiencia Merece Ser √önica...",
        'textwall.paragraph1_part1': "Sabemos que tu rutina es ajetreada.",
        'textwall.paragraph1_part2': "Cuando viajas, buscas m√°s que un simple paseo: buscas comodidad, exclusividad y la certeza de crear momentos que realmente importan con quienes amas.",
        'textwall.paragraph1_part3': "Parejas y familias como la tuya no quieren perder tiempo con imprevistos o itinerarios 'est√°ndar'.",
        'textwall.paragraph1_part4': "Sue√±as con la libertad de explorar, la tranquilidad de un servicio impecable y la emoci√≥n de vivir algo hecho solo para ti.",
        'textwall.paragraph2_part1': "En BNI Tour, no vendemos paquetes.",
        'textwall.paragraph2_part2': "Creamos jornadas.",
        'textwall.paragraph2_part3': "Desde las majestuosas Cataratas hasta el vibrante City Tour en Paraguay y Argentina, cada detalle est√° dise√±ado para superar tus expectativas, garantizando que tu √∫nica preocupaci√≥n sea disfrutar.",
        'textwall.figcaption1': "Foz do Igua√ßu",
        'textwall.figcaption2': "Tres Fronteras",
        'packages.title': "Descubre Nuestras Experiencias",
        'packages.subtitle': "Vive lo Mejor de Foz do Igua√ßu y la regi√≥n con la BNI Tour...",
        'packages.card_tag.foz_brasil': "Foz do Igua√ßu - Brasil",
        'packages.card_tag.puerto_argentina': "Puerto Iguaz√∫ - Argentina",
        'packages.card_tag.ciudad_paraguai': "Ciudad del Este - Paraguay",
        'packages.see_more_button': "Ver M√°s",
        'packages.joias_naturais.titulo': "Cataratas Brasil + <br> Parque de las Aves",
        'packages.joias_naturais.descricao': "Cataratas del Iguaz√∫ y Parque de las Aves. La Fuerza de la Naturaleza...",
        'packages.cataratas_argentina.titulo': "Cataratas <br> Argentinas",
        'packages.cataratas_argentina.descricao': "Marco de las Tres Fronteras, cena, vinoteca, casino y mucho m√°s...",
        'packages.aventura_emocao.titulo': "Macuco <br> Safari",
        'packages.aventura_emocao.descricao': "¬øPara los amantes de la aventura. Qu√© tal un paseo en barco por las Cataratas?",
        'packages.compras_cultura.titulo': "Compras <br> en Paraguai",
        'packages.compras_cultura.descricao': "Explora y compra en Ciudad del Este. Sin preocupaciones...",
        'packages.city_tour_argentina.titulo': "Cataratas + <br> City Tour Argentina",
        'packages.city_tour_argentina.descricao': "Marco de las Tres Fronteras, cena, vinoteca, casino y mucho m√°s...",
        'packages.cruzeiro_por_do_sol.titulo': "Kattamaram II",
        'packages.cruzeiro_por_do_sol.descricao': "Catamar√°n: Foz do Igua√ßu bajo una Nueva Mirada...",
        'packages.city_tour_paraguai.titulo': "City Tour <br> Paraguay",
        'packages.city_tour_paraguai.descricao': "Lago de La Rep√∫blica, Iglesia San Lucas Saltos Monday y mucho m√°s...",
        'packages.city_tour_foz.titulo': "City Tour <br> Foz do Igua√ßu",
        'packages.city_tour_foz.descricao': "Transfer, Itaipu, Marco de las Tres Fronteras y mucho m√°s...",
        'packages.cassino_argentina.titulo': "Cassino en la Argentina",
        'packages.cassino_argentina.descricao': "Uno de los m√°s prestigiosos de Am√©rica Latina",
       'about.h1': "Por Qu√© Elegir BNI Tour?",
        'about.h2': "No Somos Solo una Empresa, Somos Tu Idea de Viaje Perfecto.",
        'about.feature1.title': "Transporte C√≥modo",
        'about.feature1.description': "Veh√≠culos modernos y seguros para todo tu viaje.",
        'about.feature2.title': "Experiencias √önicas",
        'about.feature2.description': "Itinerarios personalizados para momentos inolvidables.",
        'about.feature3.title': "Destinos Incre√≠bles",
        'about.feature3.description': "Lugares especiales seleccionados especialmente para ti.",
        'about.image1.alt': "Primera imagen del collage",
        'about.image2.alt': "Segunda imagen del collage",
        'testimonials.title': "Historias Que Inspiran: Nuestros Clientes Hablan.",
        'testimonials.nicolas.quote': "Hizo un City tour - Ciudad del Este (Paraguay) con paradas de compras, guiado por Luiz. Experiencia s√∫per agradable, gu√≠a atento, disponible y servicial, con un itinerario bien hecho y muchas curiosidades hist√≥ricas. Coche c√≥modo con aire acondicionado y agua. ¬°Super recomienda!",
        'testimonials.nicolas.name': "Nicolas Leal",
        'testimonials.nicolas.role': "Cliente Satisfecho",
        'testimonials.lara.quote': "Los tours fueron hechos con la pareja Luiz y Natacha. Destaca el transporte puntual y c√≥modo, su papel como gu√≠as atentos, amables y bien preparados, con profundo conocimiento de los puntos tur√≠sticos.",
        'testimonials.lara.name': "Lara B.",
        'testimonials.lara.role': "Viajera",
        'testimonials.antonio.quote': "Viaje memorable de 5 d√≠as a Foz do Igua√ßu, Argentina y Paraguay. El gu√≠a Luiz fue pieza clave, un profesional extremadamente competente, con vasto conocimiento (historia, geolog√≠a, antropolog√≠a), puntual, de buen humor, conducci√≥n segura y veh√≠culo c√≥modo y limpio.",
        'testimonials.antonio.name': "Ant√¥nio Carlos L.",
        'testimonials.antonio.role': "Viajero",
        'testimonials.sandro.quote': "¬°Pareja nota 1.000! Los tours fueron incre√≠bles, con la informaci√≥n proporcionada por la pareja Luiz y Natacha. Un aprendizaje sobre las culturas regionales que se volvi√≥ surreal. La pareja es nativa de Foz.",
        'testimonials.sandro.name': "Sandro B.",
        'testimonials.sandro.role': "Cliente Satisfecho",
        'testimonials.bruno.quote': "Excelencia en el servicio. Sal√≠ de Foz do Igua√ßu con el sentimiento de haber hecho un amigo, no solo contratado un gu√≠a. Luiz Boni demostr√≥ cari√±o, celo y compromiso.",
        'testimonials.bruno.name': "Bruno C.",
        'testimonials.bruno.role': "Cliente Satisfecho",
        'testimonials.albano.quote': "Experiencia inolvidable en Foz do Igua√ßu. Luiz fue discreto, educado, servicial y puntual. Las recomendaciones y consejos sobre comidas, tours e itinerarios fueron muy bien elaborados.",
        'testimonials.albano.name': "Albano R.",
        'testimonials.albano.role': "Viajero",
        'testimonials.anaclaudia.quote': "Vivir la experiencia en Foz do Igua√ßu en compa√±√≠a de Natacha fue inolvidable y muy agradable. Atenta y preocupada por el bienestar, demostrando mucho conocimiento en cada punto de visita.",
        'testimonials.anaclaudia.name': "Ana Claudia M.",
        'testimonials.anaclaudia.role': "Cliente Satisfecha",
        'testimonials.luizc.quote': "¬°Gu√≠a excepcional! Experiencia incre√≠ble, amable y muy bien informado. Luiz Boni ofreci√≥ un tour con mucha informaci√≥n, recomendaciones precisas en un veh√≠culo c√≥modo con agua mineral. El mejor gu√≠a de las tres fronteras.",
        'testimonials.luizc.name': "Luiz C.",
        'testimonials.luizc.role': "Viajero",
        'testimonials.amzar.quote': "Viaje reservado con Natacha. Planificaci√≥n v√≠a WhatsApp con claridad y transparencia de costos. Natacha fue puntual y, lo m√°s importante, muy familiarizada con la historia y los hechos. ¬°Una gran experiencia!",
        'testimonials.amzar.name': "Amzar A.",
        'testimonials.amzar.role': "Cliente Satisfecho",
        'testimonials.marlon.quote': "Excelentemente bien atendidos de forma profesional y acogedora. Nuestro hijo qued√≥ contento con el cari√±o y la atenci√≥n. Recomienda absolutamente los servicios: traslado, tours, cordialidad, puntualidad y sugerencias asertivas.",
        'testimonials.marlon.name': "Marlon S.",
        'testimonials.marlon.role': "Cliente Satisfecho",
        'testimonials.anapaula.quote': "Tuve la suerte de contar con la experiencia de Luiz para optimizar los tours. Tour completo por las Cataratas, helic√≥ptero y macuco safari. Luiz fue sol√≠cito, cordial y ayud√≥ a registrar los tours con fotos y videos.",
        'testimonials.anapaula.name': "Ana Paula T.",
        'testimonials.anapaula.role': "Viajera",
        'testimonials.btn.tripadvisor': "Ver en Tripadvisor",
        'testimonials.btn.google': "Evaluar en Google",
        'roadmap.title': "Planificar Su Viaje Premium. <br> Nunca Fue Tan F√°cil.",
        'roadmap.subtitle': "Su itinerario perfecto en solo 3 pasos simples",
        'roadmap.step1.title': "Cont√°ctenos por WhatsApp",
        'roadmap.step1.description': "Comparta sus sue√±os, intereses y con qui√©n va a viajar. Nuestros especialistas est√°n listos para escuchar y entender qu√© hace que un viaje sea perfecto para usted.",
        'roadmap.step2.title': "Itinerario Personalizado y Detallado",
        'roadmap.step2.description': "En poco tiempo, tendr√° en sus manos una sugerencia de itinerario completa, optimizada y pensada en los m√≠nimos detalles, con los mejores paseos y la log√≠stica ideal.",
        'roadmap.step3.title': "Disfrute Cada Momento",
        'roadmap.step3.description': "Con todo organizado, su √∫nica misi√≥n ser√° relajarse, disfrutar de la comodidad y crear recuerdos inolvidables. De principio a fin, nos encargamos de todo.",
        'roadmap.cta': "Comenzar Mi Viaje",
        'finalcta.title': "Su Pr√≥xima Aventura.<br> Lo Espera",
        'finalcta.subtitle': "No deje que la organizaci√≥n de su viaje quite el brillo a su expectativa. Conf√≠e en BNI Tour para transformar su idea de paseo en una realidad impecable, llena de momentos premium y recuerdos que durar√°n para siempre.",
        'finalcta.primary': "Quiero Mi Itinerario Personalizado",
        'finalcta.separator': "O",
        'finalcta.secondary': "Prefiero Llenar el Formulario",
    }
};

        class GlobalTranslator {
            constructor() {
                this.currentLanguage = 'pt';
                this.translations = translations;
            }

            init() {
                console.log('üöÄ Inicializando tradutor...');
                this.loadSavedLanguage();
                
                setTimeout(() => {
                    this.translateAll();
                }, 100);
            }

            setLanguage(lang) {
                console.log('üåç Mudando idioma para:', lang);
                
                if (this.translations[lang]) {
                    const oldLanguage = this.currentLanguage;
                    this.currentLanguage = lang;
                    
                    console.log('ÔøΩÔøΩ Executando tradu√ß√£o...');
                    this.translateAll();
                    
                    this.saveLanguage(lang);
                    this.dispatchLanguageChangeEvent(lang, oldLanguage);
                    
                    console.log('‚úÖ Idioma alterado com sucesso!');
                } else {
                    console.error('‚ùå Idioma n√£o encontrado:', lang);
                }
            }

            translateAll() {
                console.log('üîÑ Traduzindo tudo para:', this.currentLanguage);
                
                const elements = document.querySelectorAll('[data-translate]');
                console.log('üìù Total de elementos encontrados:', elements.length);
                
                let translatedCount = 0;
                
                elements.forEach((element, index) => {
                    const key = element.getAttribute('data-translate');
                    
                    if (key) {
                        const translation = this.translations[this.currentLanguage]?.[key];
                        
                        if (translation) {
                            if (key.startsWith('header.')) {
                                element.textContent = translation;
                            } else {
                                element.innerHTML = translation;
                            }
                            translatedCount++;
                            console.log(`‚úÖ [${index}] ${key} ‚Üí "${translation}"`);
                        } else {
                            console.warn(`‚ö†Ô∏è Tradu√ß√£o n√£o encontrada: ${key}`);
                        }
                    }
                });
                
                console.log(`üéØ Total traduzido: ${translatedCount}/${elements.length}`);
            }

            saveLanguage(lang) {
                localStorage.setItem('preferred-language', lang);
            }

            loadSavedLanguage() {
                const saved = localStorage.getItem('preferred-language');
                if (saved && this.translations[saved]) {
                    this.currentLanguage = saved;
                    console.log('üìñ Idioma carregado:', saved);
                }
            }

            dispatchLanguageChangeEvent(newLang, oldLang) {
                console.log('üì° Disparando evento languageChanged');
                
                const event = new CustomEvent('languageChanged', {
                    detail: { 
                        newLanguage: newLang, 
                        oldLanguage: oldLang 
                    }
                });
                
                setTimeout(() => {
                    document.dispatchEvent(event);
                }, 50);
            }

            getCurrentLanguage() {
                return this.currentLanguage;
            }
        }

        window.globalTranslator = new GlobalTranslator();
        window.languages = languages;
    }

    document.addEventListener('DOMContentLoaded', () => {
        console.log('üöÄ Header carregado');
        
        window.globalTranslator.init();
        
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileNavItems = document.querySelectorAll('.mobile-nav-item');

        if (mobileMenuBtn && mobileMenuOverlay) {
            mobileMenuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                const isActive = mobileMenuOverlay.classList.contains('active');
                
                if (isActive) {
                    closeMobileMenu();
                } else {
                    openMobileMenu();
                }
            });

            mobileMenuOverlay.addEventListener('click', (e) => {
                if (e.target === mobileMenuOverlay) {
                    closeMobileMenu();
                }
            });

            mobileNavItems.forEach(item => {
                item.addEventListener('click', () => {
                    closeMobileMenu();
                });
            });

            document.addEventListener('click', (e) => {
                if (!mobileMenuBtn.contains(e.target) && !mobileMenuOverlay.contains(e.target)) {
                    if (mobileMenuOverlay.classList.contains('active')) {
                        closeMobileMenu();
                    }
                }
            });
        }

        function openMobileMenu() {
            mobileMenuBtn.classList.add('active');
            mobileMenuOverlay.classList.add('active');
            document.body.classList.add('menu-open');
        }

        function closeMobileMenu() {
            mobileMenuBtn.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            document.body.classList.remove('menu-open');
        }

        setTimeout(() => {
            updateDropdownDisplay(window.globalTranslator.getCurrentLanguage());
            updateMobileDropdownDisplay(window.globalTranslator.getCurrentLanguage());
        }, 200);

        const dropdownBtn = document.getElementById('language-dropdown-btn');
        const dropdown = document.getElementById('language-dropdown');
        const langOptions = document.querySelectorAll('.lang-option');

        if (dropdownBtn && dropdown) {
            dropdownBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdown.classList.toggle('hidden');
                
                const mobileDropdown = document.getElementById('mobile-language-dropdown');
                if (mobileDropdown) {
                    mobileDropdown.classList.add('hidden');
                }
            });

            document.addEventListener('click', (e) => {
                if (!dropdownBtn.contains(e.target) && !dropdown.contains(e.target)) {
                    dropdown.classList.add('hidden');
                }
            });
        }

        langOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                
                if (lang) {
                    console.log('üéØ Clique no idioma desktop:', lang);
                    
                    window.globalTranslator.setLanguage(lang);
                    updateDropdownDisplay(lang);
                    updateMobileDropdownDisplay(lang);
                    updateActiveOption(lang);
                    updateMobileActiveOption(lang);
                    
                    dropdown.classList.add('hidden');
                }
            });
        });

        const mobileDropdownBtn = document.getElementById('mobile-language-dropdown-btn');
        const mobileDropdown = document.getElementById('mobile-language-dropdown');
        const mobileLangOptions = document.querySelectorAll('.mobile-lang-option');

        if (mobileDropdownBtn && mobileDropdown) {
            mobileDropdownBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                mobileDropdown.classList.toggle('hidden');
                
                if (dropdown) {
                    dropdown.classList.add('hidden');
                }
            });

            document.addEventListener('click', (e) => {
                if (!mobileDropdownBtn.contains(e.target) && !mobileDropdown.contains(e.target)) {
                    mobileDropdown.classList.add('hidden');
                }
            });
        }

        mobileLangOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                
                if (lang) {
                    console.log('üéØ Clique no idioma mobile:', lang);
                    
                    window.globalTranslator.setLanguage(lang);
                    updateDropdownDisplay(lang);
                    updateMobileDropdownDisplay(lang);
                    updateActiveOption(lang);
                    updateMobileActiveOption(lang);
                    
                    mobileDropdown.classList.add('hidden');
                }
            });
        });

        const header = document.querySelector('.header-fade-in');
        if (header) {
            setTimeout(() => header.classList.add('is-visible'), 200);
        }

        const navItems = document.querySelectorAll('.nav-item');
        setTimeout(() => {
            navItems.forEach((item, index) => {
                setTimeout(() => item.classList.add('is-revealed'), index * 100);
            });
        }, 600);

        const headerBtns = document.querySelectorAll('.header-btn');
        setTimeout(() => {
            headerBtns.forEach((btn, index) => {
                setTimeout(() => btn.classList.add('is-revealed'), index * 200);
            });
        }, 1000);

        const langSwitchers = document.querySelectorAll('.language-switcher-container');
        setTimeout(() => {
            langSwitchers.forEach((switcher, index) => {
                setTimeout(() => switcher.classList.add('is-revealed'), 800 + (index * 100));
            });
        }, 800);
    });

    function updateDropdownDisplay(lang) {
        const currentFlag = document.getElementById('current-flag');
        const currentLang = document.getElementById('current-lang');
        
        if (currentFlag && currentLang && window.languages[lang]) {
            currentFlag.innerHTML = window.languages[lang].flag;
            currentLang.textContent = lang.toUpperCase();
        }
    }

    function updateMobileDropdownDisplay(lang) {
        const mobileCurrentFlag = document.getElementById('mobile-current-flag');
        const mobileCurrentLang = document.getElementById('mobile-current-lang');
        
        if (mobileCurrentFlag && mobileCurrentLang && window.languages[lang]) {
            mobileCurrentFlag.innerHTML = window.languages[lang].flag;
            mobileCurrentLang.textContent = lang.toUpperCase();
        }
    }

    function updateActiveOption(lang) {
        document.querySelectorAll('.lang-option').forEach(option => {
            option.classList.remove('active');
            if (option.dataset.lang === lang) {
                option.classList.add('active');
            }
        });
    }

    function updateMobileActiveOption(lang) {
        document.querySelectorAll('.mobile-lang-option').forEach(option => {
            option.classList.remove('active');
            if (option.dataset.lang === lang) {
                option.classList.add('active');
            }
        });
    }
</script>